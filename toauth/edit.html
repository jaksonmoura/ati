<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TOAUTH</title>
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,300i,400,400i,500,500i,700,900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons|Material+Icons+Outlined" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/application.css">
    <link rel="stylesheet" href="assets/css/toauth.css">
</head>
<body>

    <header>
        <div class="brand_name"><a href="dashboard.html" title="Início">TOAUTH </a> <span class="page">Alterar senha</span></div>
        <a href="#userconfig" class="user" tabindex="1">
            <img src="assets/imgs/user.jpg" alt="FOTO DE NOME DO USUÁRIO" title="NOME DO USUÁRIO" class="user__photo">
            <i class="material-icons">keyboard_arrow_down</i>
        </a>
    </header>

    <div class="user-profile">
        <div class="user-main">
            <img src="assets/imgs/user.jpg" alt="FOTO DO USUÁRIO" class="user-main__photo">
            <div class="user-main__info">
                <h4 class="user-main__name">FULANO DE BELTRANO E TAL</h4>
                <span class="user-main__cpf">005.669.789-12</span>
                <span class="user-main__type">Concursado</span>
            </div>
            <div class="user-main__actions">
                <a class="btn btn-edituser white grey-text text-darken-2" href="edit.html"><i class="material-icons">vpn_key</i> Alterar senha</a>
                <a class="btn btn-logout materialize-red darken-1" href="#logout"><i class="material-icons">login</i> Sair</a>
            </div>
        </div>
        <div class="user-data">
            <div class="user-data__email">
                <i class="material-icons">email</i>
                <p>fulanobeltrano@to.gov.br</p>
            </div>
            <div class="user-data__phone">
                <i class="material-icons">phone</i>
                <p>(63) 98888-9987</p>
            </div>
            <div class="user-data__datein">
                <i class="material-icons">today</i>
                <p>01/04/1500</p>
            </div>
        </div>
        <div class="user-lotacao">
            <h4>Lotação</h4>
            <div class="card">
                <div class="card__title">Gerência de Assuntos Sigilosos</div>
                <div class="card__body">
                    <h5>Responsável pelo setor</h5>
                    <h6>Cicrano Sipriano</h6>
                    <p><i class="material-icons">phone</i> (63) 98888-9987</p>
                </div>
            </div>
        </div>
    </div>
    <div class="user-profile-overlay"></div>

    <section class="page --small">
        <div class="container">
            <div class="page__header">
                <h1>Alterar senha</h1>
            </div>
            <div class="page__body">
            <form action="">
                <div class="row">
                    <div class="input-field col s12">
                        <input id="senha" name="password" type="password" class="validate">
                        <label for="senha">Senha</label>
                    </div>
                    <div class="input-field col s12">
                        <input id="confirma" name="confirmation" type="password" class="validate">
                        <label for="confirma">Repita a senha</label>
                    </div>
                    <div class="col s12">
                        <button class="btn verde-to right"><i class="material-icons mr-2 left">edit</i> Alterar senha</button>
                    </div>
                </div>
            </form>
        </div>
        </div>
    </section>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            document.querySelector("header a.user").addEventListener("click", function (e) {
                this.classList.toggle("active");
                document.querySelector(".user-profile").classList.toggle("show");
                document.querySelector(".user-profile-overlay").classList.toggle("show");
                document.querySelector("body").style.overflow = "hidden";
                e.preventDefault();
            });

            document.addEventListener("click", function (e) {
                var btn = document.querySelector("a.user");
                var card = document.querySelector(".user-profile.show");
                // Se não é o card com .show nem nada dentro do card
                if (!Object.is(e.target, card)
                    && !Object.is(e.target, btn) 
                    && e.composedPath().indexOf(card) < 0
                    && e.composedPath().indexOf(btn) < 0
                    ) {
                        document.querySelector(".user-profile").classList.remove("show");
                        document.querySelector(".user-profile-overlay").classList.remove("show");
                        document.querySelector("body").style = "";
                }
            });
        });
    </script>
</body>
</html>