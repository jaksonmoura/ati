<html lang="pt-BR" class="to-gov-barra">

	<head>
		<meta charset="utf-8">
		<link href="https://fonts.googleapis.com/css?family=Roboto:400,500,700&amp;display=swap" rel="stylesheet">
		<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<!-- <link rel="stylesheet" href="govto-font.css"> -->
		<link rel="stylesheet" href="style.css">
	</head>

	<!-- <a href="http://to.gov.br" class="hide-on-small">
		<span class="logo--nome">SECRETARIA DA EDUCAÇÃO, <br><strong>CULTURA E ESPORTES</strong></span>
	</a> -->
	

	<body>
		<div class="topo-togov-wrapper">
			<div class="topo-togov-content">
				<div class="topo-links-site">
					<a href="http://to.gov.br">
						<img src="imgs/fomento.png" alt="ATI">
					</a>
					<a href="http://to.gov.br" class="logo">
						<img src="imgs/logo_topo.svg" alt="TOCANTINS">
					</a>
				</div>
				<button class="topo-mobile-menu-btn" aria-expanded="false">
					<i class="material-icons" aria-label="Menu Governamental">menu</i>
				</button>
				<div class="nav-main-links">
					<ul>
						<li><a href="#">Sistemas</a></li>
						<li><a href="#">Serviços</a></li>
						<li><a href="http://transparencia.to.gov.br">Transparência</a></li>
						<li><a href="#">Acesso a informação</a></li>
						<li><a href="#">Órgãos</a></li>
						<li><a class="topo-togov-orgaos-trigger" href="#">Órgãos do Governo <i
									class="material-icons" aria-hidden="true">arrow_drop_down</i></a></li>
					</ul>
				</div>
				<ul class="nav-social-links">
					<li><a href="#"><img src="imgs/facebook.svg" alt="Facebook" title="Facebook"></a></li>
					<li><a href="#"><img src="imgs/instagram.svg" alt="Instagram" title="Instagram"></a></li>
					<li><a href="#"><img src="imgs/twitter.svg" alt="Twitter" title="Twitter"></a></li>
					<li><a href="#"><img src="imgs/youtube.svg" alt="Youtube" title="Youtube"></a></li>
					<li><a href="#"><img src="imgs/flickr.svg" alt="Flickr" title="Flickr"></a></li>
				</ul>
			</div>

			<div class="topo-mobile-menu" role="menu">
				<!-- <button class="topo-mobile-close-btn" aria-label="Fechar menu"><i class="material-icons" aria-hidden="true">close</i></button> -->
				<div class="mobile-main-links">
					<ul aria-labelledby="mobile-main-link">
						<li><a href="#">Sistemas</a></li>
						<li><a href="#">Serviços</a></li>
						<li><a href="http://transparencia.to.gov.br">Transparência</a></li>
						<li><a href="#">Acesso à informação</a></li>
						<li><a href="#">Governo</a></li>
						<li><a class="topo-togov-orgaos-trigger" href="#" role="button" aria-expanded="false">Órgãos do Governo <i
									class="material-icons" aria-hidden="true">chevron_right</i></a></li>
					</ul>
				</div>
				<div class="mobile-social-links">
					<span aria-hidden="true" id="mobile-social-link">Redes Sociais</span>
					<ul aria-labelledby="mobile-social-link">
						<li><a href="#"><img src="imgs/facebook.svg" alt="Facebook" title="Facebook"></a></li>
						<li><a href="#"><img src="imgs/instagram.svg" alt="Instagram" title="Instagram"></a></li>
						<li><a href="#"><img src="imgs/twitter.svg" alt="Twitter" title="Twitter"></a></li>
						<li><a href="#"><img src="imgs/youtube.svg" alt="Youtube" title="Youtube"></a></li>
						<li><a href="#"><img src="imgs/flickr.svg" alt="Flickr" title="Flickr"></a></li>
					</ul>
				</div>
			</div>

			<div class="topo-mobile-menu-overlay"></div>


			<div class="topo-togov-orgaos-wrapper" id="topo-togov-orgaos-wrapper" role="menu" aria-label="Lista de órgãos">
				<div class="topo-togov-orgaos-content">
					<button id="topo-togov-orgaos-close" aria-hidden="true"><span class="goback" aria-label="Voltar ao menu governamental"><i class="material-icons" aria-hidden="true">chevron_left</i> VOLTAR</span><i class="material-icons" aria-label="Fechar lista de órgãos">close</i></button>
					<!-- <div class="topo-togov-orgaos-filter">
						<input type="search" id="topo-togov-orgaos-filter-field" placeholder="Filtrar órgãos" />
						<i id="topo-togov-orgaos-filter-btn" class="material-icons">search</i>
					</div> -->
					<div class="topo-togov-orgao-group">
						<h2>Secretarias</h2>
						<ul class="topo-togov-orgao-list">
							<li><a href="#">Casa Civil</a></li>
							<li><a href="#">Casa Militar</a></li>
							<li><a href="#">Controladoria-Geral do Estado</a></li>
							<li><a href="#">Corpo de Bombeiros Militar</a></li>
							<li><a href="#">Polícia Militar</a></li>
							<li><a href="#">Procuradoria-Geral do Estado</a></li>
							<li><a href="#">Secretaria da Administração</a></li>
							<li><a href="#">Secretaria da Agricultura, Pecuária e Aquicultura</a></li>
							<li><a href="#">Secretaria da Cidadania e Justiça</a></li>
							<li><a href="#">Secretaria da Comunicação</a></li>
							<li><a href="#">Secretaria da Educação, Juventude e Esporte</a></li>
							<li><a href="#">Secretaria da Fazenda e Planejamento</a></li>
							<li><a href="#">Secretaria da Indústria, Comércio e Serviços</a></li>
							<li><a href="#">Secretaria da Infraestrutura, Cidades e Habitação</a></li>
							<li><a href="#">Secretaria da Saúde</a></li>
							<li><a href="#">Secretaria da Segurança Pública</a></li>
							<li><a href="#">Secretaria do Meio Ambiente e Recursos Hídricos</a></li>
							<li><a href="#">Secretaria do Trabalho e Desenvolvimento Social</a></li>
						</ul>
					</div>


					<div class="topo-togov-orgao-group">
						<h2>Autarquias</h2>
						<ul class="topo-togov-orgao-list">
							<li><a href="#">Agência Tocantinense de Regulação, Controle e Fiscalização de Serviços
									Públicos</a></li>
							<li><a href="#">Agência Tocantinense de Saneamento</a></li>
							<li><a href="#">Agência Universidade Estadual do Tocantins</a></li>
							<li><a href="#">Agência de Defesa Agropecuária</a></li>
							<li><a href="#">Agência de Fomento</a></li>
							<li><a href="#">Agência de Metrologia</a></li>
							<li><a href="#">Agência de Tecnologia da Informação</a></li>
							<li><a href="#">Agência do Desenvolvimento do Turismo, Cultura e Economia Criativa</a></li>
							<li><a href="#">Companhia Imobiliária do Tocantins</a></li>
							<li><a href="#">Departamento Estadual de Trânsito</a></li>
							<li><a href="#">Fundação de Amparo à Pesquisa</a></li>
							<li><a href="#">Instituto Natureza do Tocantins</a></li>
							<li><a href="#">Instituto de Desenvolvimento Rural</a></li>
							<li><a href="#">Instituto de Gestão Previdenciária</a></li>
							<li><a href="#">Instituto de Terras do Estado do Tocantins</a></li>
							<li><a href="#">Junta Comercial</a></li>
						</ul>
					</div>

					<div class="topo-togov-orgao-group">
						<h2>Sites especiais</h2>
						<ul class="topo-togov-orgao-list">
							<li><a href="#">Congresso Saúde</a></li>
							<li><a href="#">Feira de Tecnologia Agropecuária do Tocantins</a></li>
							<li><a href="#">Jogos Estudantis do Tocantins</a></li>
							<li><a href="#">Turismo</a></li>
						</ul>
					</div>


				</div>
			</div>

		</div>	
		<script>
			document.addEventListener("DOMContentLoaded", function(){
				let mMenu = document.querySelector(".topo-mobile-menu");
				let mMenuBtn = document.querySelector(".topo-mobile-menu-btn");
				let mOrgaos = document.querySelector(".topo-togov-orgaos-wrapper");
				let mOrgaosBtn = document.querySelectorAll(".topo-togov-orgaos-trigger");
				let mOrgaosClose = document.querySelector("#topo-togov-orgaos-close");
				let orgaosList = document.querySelectorAll(".topo-togov-orgaos-content button, .topo-togov-orgaos-content li a, .topo-togov-orgaos-content h2");
				let lastFocus;

				mMenuBtn.addEventListener("click", function(){
					if (mMenuBtn.getAttribute("aria-expanded") === "false") {
						mMenuBtn.setAttribute("aria-expanded", "true");
					} else {
						mMenuBtn.setAttribute("aria-expanded", "false");
						mOrgaosBtn.forEach(function(btn){
							btn.setAttribute("aria-expanded", "false");
						});
						mOrgaos.classList.remove("show-all-orgaos");
					}
					mMenu.classList.toggle("show");
				});

				mOrgaosBtn.forEach(function(btn){
					btn.addEventListener("click", function(e){
						mOrgaos.classList.add("show-all-orgaos");
						btn.setAttribute("aria-expanded", "false");
						lastFocus = btn;
						setTimeout(function (){
							document.querySelector("button#topo-togov-orgaos-close").focus();
						}, 300);
						document.addEventListener("keydown", orgaosTrap);
					});
				})

				mOrgaosClose.addEventListener("click", function(){
					mOrgaosBtn.forEach(function(btn){
						btn.setAttribute("aria-expanded", "false");
					})
					mOrgaos.classList.remove("show-all-orgaos");
					lastFocus.focus();
				});

				document.addEventListener("click", function (e) {
                    let mMenuOpen = document.querySelector(".topo-mobile-menu.show");
					let mOrgaosOpen = document.querySelector(".topo-togov-orgaos-wrapper.show-all-orgaos");
                    if (!Object.is(e.target, mMenuOpen)
                        && !Object.is(e.target, mOrgaosOpen)
						&& !Object.is(e.target, mMenuBtn)
						&& !Object.is(e.target, mOrgaosClose)
						&& !Object.is(e.target, mOrgaosBtn[0])
						&& !Object.is(e.target, mOrgaosBtn[1])
						&& e.composedPath().indexOf(mMenuBtn) < 0
						&& e.composedPath().indexOf(mOrgaosClose) < 0
						&& e.composedPath().indexOf(mOrgaosBtn[0]) < 0
						&& e.composedPath().indexOf(mOrgaosBtn[1]) < 0
                        && e.composedPath().indexOf(mMenuOpen) < 0
						&& e.composedPath().indexOf(mOrgaosOpen) < 0
                    ) {
						if (mOrgaosOpen === null){
							mMenu.classList.remove("show");
							mMenuBtn.setAttribute("aria-expanded", "false");
							mMenuBtn.focus();
							e.preventDefault();
						}
						
						if (mOrgaosOpen !== 'undefined'){
							mOrgaos.classList.remove("show-all-orgaos");
							mOrgaosBtn.forEach(function(btn){
								btn.setAttribute("aria-expanded", "false");
							})
							e.preventDefault();
							mOrgaosOpen = document.querySelector(".topo-togov-orgaos-wrapper.show-all-orgaos");
						}
						
                    }
                });

				function orgaosTrap(e){
					let firstItem = orgaosList[0];
					let lastItem = orgaosList[orgaosList.length - 1];
					if (e.keyCode === 9) {
						if (e.shiftKey){
							if (document.activeElement === firstItem){
								lastItem.focus();
								e.preventDefault();
							}
						} else {
							if (document.activeElement === lastItem){
								firstItem.focus();
								e.preventDefault();
							}
						}
					}
					if (e.keyCode === 27) {
						mOrgaos.classList.remove("show-all-orgaos");
						lastFocus.focus();
					}
				}
			});
		</script>
	</body>

</html>